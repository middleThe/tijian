<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->
<!-- Begin Head -->
<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>

<head>
    <title>体检预约管理系统-注册</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <meta name="MobileOptimized" content="320">
    <!--Start Style -->
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/fonts.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/bootstrap.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/auth.css}">
</head>

<body>
<div class="ad-auth-wrapper">
    <div class="ad-auth-box">
        <div class="row align-items-center">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
            </div>
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
                <div class="ad-auth-content" style="margin-top: 160px">
                    <form id="register" method="post" style="width: 380px;">
                        <h2 style="font-size: 25px"><span class="primary"
                                                          style="font-family: 'Microsoft YaHei UI',serif;font-size: 30px;width: 200px;">欢迎来到智能体检预约系统!</span>
                        </h2>
                        <p>请填写下方内容以完成注册</p>
                        <div class="ad-auth-form">
                            <div class="ad-auth-feilds mb-30">
                                <input name="username" type="text" placeholder="自定义登录账号" class="ad-input"
                                       id="username">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px">
                                        <path fill-rule="evenodd" fill="rgb(154, 190, 237)"
                                              d="M13.696,9.759 C12.876,8.942 11.901,8.337 10.837,7.971 C11.989,7.180 12.742,5.850 12.725,4.349 C12.698,1.961 10.713,0.031 8.318,0.062 C5.946,0.093 4.026,2.026 4.026,4.398 C4.026,5.879 4.774,7.189 5.914,7.971 C4.850,8.337 3.875,8.942 3.055,9.759 C1.786,11.025 1.026,12.663 0.878,14.426 C0.849,14.768 1.117,15.063 1.462,15.063 L1.466,15.063 C1.772,15.063 2.024,14.827 2.050,14.523 C2.325,11.285 5.057,8.734 8.375,8.734 C11.694,8.734 14.425,11.285 14.701,14.523 C14.727,14.827 14.979,15.063 15.285,15.063 L15.289,15.063 C15.634,15.063 15.902,14.768 15.873,14.426 C15.725,12.663 14.965,11.025 13.696,9.759 ZM8.375,7.562 C6.625,7.562 5.201,6.143 5.201,4.398 C5.201,2.653 6.625,1.234 8.375,1.234 C10.126,1.234 11.550,2.653 11.550,4.398 C11.550,6.143 10.126,7.562 8.375,7.562 Z"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3" id="usernameError">长度大于4小于12</span>
                            </div>
                            <div class="ad-auth-feilds" style="margin-bottom: 20px;">
                                <input name="password" type="password" placeholder="密码" class="ad-input"
                                       id="password">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 482.8 482.8">
                                        <path d="M395.95,210.4h-7.1v-62.9c0-81.3-66.1-147.5-147.5-147.5c-81.3,0-147.5,66.1-147.5,147.5c0,7.5,6,13.5,13.5,13.5    s13.5-6,13.5-13.5c0-66.4,54-120.5,120.5-120.5c66.4,0,120.5,54,120.5,120.5v62.9h-275c-14.4,0-26.1,11.7-26.1,26.1v168.1    c0,43.1,35.1,78.2,78.2,78.2h204.9c43.1,0,78.2-35.1,78.2-78.2V236.5C422.05,222.1,410.35,210.4,395.95,210.4z M395.05,404.6    c0,28.2-22.9,51.2-51.2,51.2h-204.8c-28.2,0-51.2-22.9-51.2-51.2V237.4h307.2L395.05,404.6L395.05,404.6z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                        <path d="M241.45,399.1c27.9,0,50.5-22.7,50.5-50.5c0-27.9-22.7-50.5-50.5-50.5c-27.9,0-50.5,22.7-50.5,50.5    S213.55,399.1,241.45,399.1z M241.45,325c13,0,23.5,10.6,23.5,23.5s-10.5,23.6-23.5,23.6s-23.5-10.6-23.5-23.5    S228.45,325,241.45,325z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3"
                                      id="passwordError">长度大于6，且必须要含有数字、标点和字母</span>
                            </div>
                            <div class="ad-auth-feilds" style="margin-bottom: 20px;">
                                <input name="repeatPassword" type="password" placeholder="再次输入" class="ad-input"
                                       id="repeatPassword">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 482.8 482.8">
                                        <path d="M395.95,210.4h-7.1v-62.9c0-81.3-66.1-147.5-147.5-147.5c-81.3,0-147.5,66.1-147.5,147.5c0,7.5,6,13.5,13.5,13.5    s13.5-6,13.5-13.5c0-66.4,54-120.5,120.5-120.5c66.4,0,120.5,54,120.5,120.5v62.9h-275c-14.4,0-26.1,11.7-26.1,26.1v168.1    c0,43.1,35.1,78.2,78.2,78.2h204.9c43.1,0,78.2-35.1,78.2-78.2V236.5C422.05,222.1,410.35,210.4,395.95,210.4z M395.05,404.6    c0,28.2-22.9,51.2-51.2,51.2h-204.8c-28.2,0-51.2-22.9-51.2-51.2V237.4h307.2L395.05,404.6L395.05,404.6z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                        <path d="M241.45,399.1c27.9,0,50.5-22.7,50.5-50.5c0-27.9-22.7-50.5-50.5-50.5c-27.9,0-50.5,22.7-50.5,50.5    S213.55,399.1,241.45,399.1z M241.45,325c13,0,23.5,10.6,23.5,23.5s-10.5,23.6-23.5,23.6s-23.5-10.6-23.5-23.5    S228.45,325,241.45,325z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3" id="repeatPasswordError">请重复输入密码以验证</span>
                            </div>
                            <div class="ad-auth-feilds mb-30">
                                <input name="realname" type="text" placeholder="真实姓名" class="ad-input"
                                       id="realname">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px">
                                        <path fill-rule="evenodd" fill="rgb(154, 190, 237)"
                                              d="M13.696,9.759 C12.876,8.942 11.901,8.337 10.837,7.971 C11.989,7.180 12.742,5.850 12.725,4.349 C12.698,1.961 10.713,0.031 8.318,0.062 C5.946,0.093 4.026,2.026 4.026,4.398 C4.026,5.879 4.774,7.189 5.914,7.971 C4.850,8.337 3.875,8.942 3.055,9.759 C1.786,11.025 1.026,12.663 0.878,14.426 C0.849,14.768 1.117,15.063 1.462,15.063 L1.466,15.063 C1.772,15.063 2.024,14.827 2.050,14.523 C2.325,11.285 5.057,8.734 8.375,8.734 C11.694,8.734 14.425,11.285 14.701,14.523 C14.727,14.827 14.979,15.063 15.285,15.063 L15.289,15.063 C15.634,15.063 15.902,14.768 15.873,14.426 C15.725,12.663 14.965,11.025 13.696,9.759 ZM8.375,7.562 C6.625,7.562 5.201,6.143 5.201,4.398 C5.201,2.653 6.625,1.234 8.375,1.234 C10.126,1.234 11.550,2.653 11.550,4.398 C11.550,6.143 10.126,7.562 8.375,7.562 Z"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3" id="realnameError">请输入中文或字母,且长度大于1位</span>
                            </div>
                            <div class="ad-auth-feilds mb-30" style="color: #D3D3D3;">
                                <input name="gender" type="radio" class="ad-input" style="width: 7%;zoom: 0.3"
                                       value="男">男
                                <input name="gender" type="radio" class="ad-input" style="width: 7%;zoom: 0.3"
                                       value="女" checked>女
                                <!--                                    <span style="color: #D3D3D3">仅可以输入’男‘或’女‘</span>-->
                            </div>
                            <div class="ad-auth-feilds mb-30">
                                <input name="phone" type="tel" placeholder="手机号" class="ad-input" id="phone">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 483.3 483.3">
                                        <path d="M424.3,57.75H59.1c-32.6,0-59.1,26.5-59.1,59.1v249.6c0,32.6,26.5,59.1,59.1,59.1h365.1c32.6,0,59.1-26.5,59.1-59.1    v-249.5C483.4,84.35,456.9,57.75,424.3,57.75z M456.4,366.45c0,17.7-14.4,32.1-32.1,32.1H59.1c-17.7,0-32.1-14.4-32.1-32.1v-249.5    c0-17.7,14.4-32.1,32.1-32.1h365.1c17.7,0,32.1,14.4,32.1,32.1v249.5H456.4z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                        <path d="M304.8,238.55l118.2-106c5.5-5,6-13.5,1-19.1c-5-5.5-13.5-6-19.1-1l-163,146.3l-31.8-28.4c-0.1-0.1-0.2-0.2-0.2-0.3    c-0.7-0.7-1.4-1.3-2.2-1.9L78.3,112.35c-5.6-5-14.1-4.5-19.1,1.1c-5,5.6-4.5,14.1,1.1,19.1l119.6,106.9L60.8,350.95    c-5.4,5.1-5.7,13.6-0.6,19.1c2.7,2.8,6.3,4.3,9.9,4.3c3.3,0,6.6-1.2,9.2-3.6l120.9-113.1l32.8,29.3c2.6,2.3,5.8,3.4,9,3.4    c3.2,0,6.5-1.2,9-3.5l33.7-30.2l120.2,114.2c2.6,2.5,6,3.7,9.3,3.7c3.6,0,7.1-1.4,9.8-4.2c5.1-5.4,4.9-14-0.5-19.1L304.8,238.55z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3" id="phoneError">请输入正确的手机号</span>
                            </div>
                            <div class="ad-auth-feilds mb-30">
                                <input name="email" type="email" placeholder="邮箱" class="ad-input" id="email">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 483.3 483.3">
                                        <path d="M424.3,57.75H59.1c-32.6,0-59.1,26.5-59.1,59.1v249.6c0,32.6,26.5,59.1,59.1,59.1h365.1c32.6,0,59.1-26.5,59.1-59.1    v-249.5C483.4,84.35,456.9,57.75,424.3,57.75z M456.4,366.45c0,17.7-14.4,32.1-32.1,32.1H59.1c-17.7,0-32.1-14.4-32.1-32.1v-249.5    c0-17.7,14.4-32.1,32.1-32.1h365.1c17.7,0,32.1,14.4,32.1,32.1v249.5H456.4z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                        <path d="M304.8,238.55l118.2-106c5.5-5,6-13.5,1-19.1c-5-5.5-13.5-6-19.1-1l-163,146.3l-31.8-28.4c-0.1-0.1-0.2-0.2-0.2-0.3    c-0.7-0.7-1.4-1.3-2.2-1.9L78.3,112.35c-5.6-5-14.1-4.5-19.1,1.1c-5,5.6-4.5,14.1,1.1,19.1l119.6,106.9L60.8,350.95    c-5.4,5.1-5.7,13.6-0.6,19.1c2.7,2.8,6.3,4.3,9.9,4.3c3.3,0,6.6-1.2,9.2-3.6l120.9-113.1l32.8,29.3c2.6,2.3,5.8,3.4,9,3.4    c3.2,0,6.5-1.2,9-3.5l33.7-30.2l120.2,114.2c2.6,2.5,6,3.7,9.3,3.7c3.6,0,7.1-1.4,9.8-4.2c5.1-5.4,4.9-14-0.5-19.1L304.8,238.55z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3" id="emailError">请输入邮箱正确格式</span>
                            </div>
                            <div class="ad-auth-feilds mb-30">
                                <input name="birthday" type="date" placeholder="出生日期" class="ad-input"
                                       min="1903-01-01" id="birthday">
                                <div class="ad-auth-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 482.8 482.8">
                                        <path d="M395.95,210.4h-7.1v-62.9c0-81.3-66.1-147.5-147.5-147.5c-81.3,0-147.5,66.1-147.5,147.5c0,7.5,6,13.5,13.5,13.5    s13.5-6,13.5-13.5c0-66.4,54-120.5,120.5-120.5c66.4,0,120.5,54,120.5,120.5v62.9h-275c-14.4,0-26.1,11.7-26.1,26.1v168.1    c0,43.1,35.1,78.2,78.2,78.2h204.9c43.1,0,78.2-35.1,78.2-78.2V236.5C422.05,222.1,410.35,210.4,395.95,210.4z M395.05,404.6    c0,28.2-22.9,51.2-51.2,51.2h-204.8c-28.2,0-51.2-22.9-51.2-51.2V237.4h307.2L395.05,404.6L395.05,404.6z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                        <path d="M241.45,399.1c27.9,0,50.5-22.7,50.5-50.5c0-27.9-22.7-50.5-50.5-50.5c-27.9,0-50.5,22.7-50.5,50.5    S213.55,399.1,241.45,399.1z M241.45,325c13,0,23.5,10.6,23.5,23.5s-10.5,23.6-23.5,23.6s-23.5-10.6-23.5-23.5    S228.45,325,241.45,325z"
                                              data-original="#000000" class="active-path" data-old_color="#000000"
                                              fill="#9abeed"></path>
                                    </svg>
                                </div>
                                <span style="color: #D3D3D3">请输入准确的出生日期,若用户未超过10岁请勿注册</span>
                            </div>

                        </div>

                        <div class="ad-auth-btn">
                            <button class="ad-btn1 ad-login-member" type="submit" id="btn">注 册</button>
                        </div>
                        <p class="ad-register-text">已经有账号了？ <a href="/page/share/login">登录</a></p>
                        <input type="text" th:name="${_csrf.getParameterName()}" th:value="${_csrf.token}" hidden>
                    </form>
                </div>
            </div>

        </div>
        <div class="ad-notifications ad-error">
            <p><span>Duhh!</span>Something Went Wrong</p>
        </div>
    </div>
</div>
<script th:inline="javascript">
    const message = [[${message}]];
    $(function showMessage() {
        if (message != null) {
            alert(message)
            window.location.href = "/page/share/register";
        }
    })
</script>

<script>

    window.onload = function () {

        let retValArray = {
            retVal1: false,
            retVal2: false,
            retVal3: false,
            retVal4: false,
            retVal5: false,
            retVal6: false,
        };

        //设置birthday可选的最大日期
        const date = new Date()
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();
        const formattedDate = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
        const birthday = document.getElementById("birthday")
        birthday.max = formattedDate
        birthday.value = formattedDate


        const usernameElt = document.getElementById("username");
        const usernameErrorSpan = document.getElementById("usernameError");
        //用户名正则表达式
        const usernameRegExp = /^[a-zA-Z0-9_-]{4,16}$/;

        //用户名验证开始
        //用户名验证,失去焦点验证
        usernameElt.onblur = function () {
            //判断username的value值是否为空
            //清除前后空白
            const username = usernameElt.value.trim();
            usernameElt.value = username;
            const usernameRetVal = usernameRegExp.test(username);

            //username不为空或全为空格开始验证
            if (!(usernameElt.value === "")) {
                if (!usernameRetVal) {
                    //此处测试正确
                    //获取用户名后文本对象
                    usernameErrorSpan.style.color = "red";
                    retValArray.retVal1 = false;
                } else {
                    //此处测试正确
                    usernameErrorSpan.style.color = "green";
                    retValArray.retVal1 = true;
                }
            } else {
                usernameErrorSpan.innerHTML = "用户名不能为空"
                usernameErrorSpan.style.color = "red";
                retValArray.retVal1 = false;
            }
        }

        //获取焦点，清除span内容
        usernameElt.onfocus = function () {
            //如果username等于一个或多个空格
            //清空非法value,使用index函数，结果等于-1，则不含有该字符串
            if (usernameErrorSpan.style.color === "red") {
                //如果usernameError不为空串,字符串中含有"不"清空value
                usernameElt.value = "";
            }
            //清空span内容
            usernameErrorSpan.innerText = "长度大于4小于12";
            usernameErrorSpan.style.color = "#D3D3D3";
            retValArray.retVal1 = true
        }


        //密码验证，失去焦点验证
        const passwordElt = document.getElementById("password");
        const passwordErrorSpan = document.getElementById("passwordError")
        const passwordRegExp = /^(?=.*\d)(?=.*[a-zA-Z])(?=.*[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]).{6,}$/


        //密码验证，失去焦点开始验证
        passwordElt.onblur = function () {
            //去除前后空白
            const password = passwordElt.value.trim();
            passwordElt.value = password;
            //password不为空开始验证
            if (!(passwordElt.value === "")) {
                //密码格式验证
                const passwordRetVal = passwordRegExp.test(password);
                if (passwordRetVal) {
                    passwordErrorSpan.style.color = "green";
                    retValArray.retVal2 = true
                } else {
                    passwordErrorSpan.style.color = "red";
                    retValArray.retVal2 = false
                }
            } else {
                //密码不能为空
                passwordErrorSpan.innerHTML = "密码不能为空"
                passwordErrorSpan.style.color = "red";
                retValArray.retVal2 = false;
            }
        }


        //密码获得焦点,密码获得焦点，重复密码span内容清空
        passwordElt.onfocus = function () {
            //清空非法value,使用index函数，结果等于-1，则不含有该字符串
            if (passwordErrorSpan.style.color === "red") {
                //如果passwordErrorSpan不为空串,字符串中含有"不"清空value
                passwordElt.value = "";

            }
            //清空span内容
            passwordErrorSpan.innerText = "长度大于6，且必须要含有数字、标点和字母";
            passwordErrorSpan.style.color = "#D3D3D3"
            retValArray.retVal2 = true

        }


        //确认密码验证，失去焦点验证
        const confirmPwdElt = document.getElementById("repeatPassword");
        const confirmPwdErrorSpan = document.getElementById("repeatPasswordError");

        //密码验证，失去焦点开始验证
        confirmPwdElt.onblur = function () {
            //清除验证密码中的前后空白
            confirmPwdElt.value = confirmPwdElt.value.trim();
            //判断密码内容是否为空，不为空则开始验证
            if (!(confirmPwdElt.value === "")) {
                //重复密码内容不为空，开始验证
                //判断密码是否为空，不为空则开始验证
                if (passwordElt.value === "") {
                    confirmPwdErrorSpan.innerHTML = "<font color='red'>密码不能为空</font>"
                } else {
                    //判断密码和重复密码是否相等
                    if (passwordElt.value === confirmPwdElt.value) {
                        //更改passwordErrorSpan中内容
                        confirmPwdErrorSpan.innerHTML = "<font color='green'>重复密码验证成功</font>"
                        retValArray.retVal3 = true;
                    } else {
                        confirmPwdErrorSpan.innerHTML = "<font color='red'>重复密码验证失败</font>"
                        retValArray.retVal3 = false;
                    }
                }
            } else {
                confirmPwdErrorSpan.innerHTML = "<font color='red'>验证密码不能为空</font>"
                confirmPwdErrorSpan.style.color = "red"
                retValArray.retVal3 = false;
            }
        }
        //获取重复密码焦点时，清空span内数据，如果重复密码错误，则清空重复密码
        confirmPwdElt.onfocus = function () {
            //使用indexOf()方法判断span字符串中是否含有"失"字,结果等于-1，则不含有失字
            if (!(confirmPwdErrorSpan.innerHTML.indexOf("失") === -1)) {
                //清空非法重复密码值
                confirmPwdElt.value = "";

            }
            //获取焦点时清除span内值
            confirmPwdErrorSpan.innerText = "请重复输入密码以验证";
            confirmPwdErrorSpan.style.color = "#D3D3D3"
            retValArray.retVal3 = true
        }


        const realnameElt = document.getElementById("realname");
        const realnameErrorSpan = document.getElementById("realnameError");
        const realnameRegExp = /^(?:[\u4e00-\u9fa5]|[a-zA-Z]){2,}$/
        realnameElt.onblur = function () {
            const realname = realnameElt.value.trim();
            realnameElt.value = realname;
            if (!(realnameElt.value === "")) {
                const realnameRetVal = realnameRegExp.test(realname);
                if (realnameRetVal) {
                    realnameErrorSpan.style.color = "green";
                    retValArray.retVal4 = true;
                } else {
                    realnameErrorSpan.style.color = "red";
                    retValArray.retVal4 = false;
                }
            } else {
                realnameErrorSpan.innerHTML = "姓名不可为空"
                realnameErrorSpan.style.color = "red";
                retValArray.retVal4 = false;
            }
        }

        realnameElt.onfocus = function () {
            if (realnameErrorSpan.style.color === "red") {
                realnameElt.value = "";
            }
            //清空span内容
            realnameErrorSpan.innerText = "请输入中文或字母,且长度大于1位";
            realnameErrorSpan.style.color = "#D3D3D3"
            retValArray.retVal4 = true

        }


        const phoneElt = document.getElementById("phone");
        const phoneErrorSpan = document.getElementById("phoneError");
        const phoneRegExp = /^1[3456789]\d{9}$/
        phoneElt.onblur = function () {
            const phone = phoneElt.value.trim();
            phoneElt.value = phone;
            if (!(phoneElt.value === "")) {
                const phoneRetVal = phoneRegExp.test(phone);
                if (phoneRetVal) {
                    phoneErrorSpan.style.color = "green";
                    retValArray.retVal5 = true;
                } else {
                    phoneErrorSpan.style.color = "red";
                    retValArray.retVal5 = false
                }
            } else {
                phoneErrorSpan.innerHTML = "电话不可为空"
                phoneErrorSpan.style.color = "red";
                retValArray.retVal5 = false
            }
        }


        phoneElt.onfocus = function () {
            if (phoneErrorSpan.style.color === "red") {
                phoneElt.value = "";
            }
            //清空span内容
            phoneErrorSpan.innerText = "请输入正确的电话格式";
            phoneErrorSpan.style.color = "#D3D3D3"
            retValArray.retVal5 = true
        }


        //邮箱地址验证
        const emailElt = document.getElementById("email");
        const emailErrorSpan = document.getElementById("emailError")
        const emailRegExp = /^\w{3,12}@\w{1,5}\.[a-z]{2,3}$/;
        //失去焦点时开始验证
        emailElt.onblur = function () {
            //去除邮箱地址前后空白
            var email = emailElt.value.trim();
            emailElt.value = email;
            var emailRetVal = emailRegExp.test(email);
            //邮箱地址不为空时开始验证
            if (!(emailElt.value === "")) {
                //开始验证
                if (emailRetVal) {
                    emailErrorSpan.style.color = "green"
                    retValArray.retVal6 = true
                } else {
                    emailErrorSpan.style.color = "red"
                    retValArray.retVal6 = false
                }
            } else {
                emailErrorSpan.innerHTML = "邮箱地址不能为空"
                emailErrorSpan.style.color = "red"
                retValArray.retVal6 = false
            }
        }


        //获得焦点时，邮箱格式不正确，则清空非法邮箱value值，并清除span内容
        emailElt.onfocus = function () {
            //indexOf方法结果为-1，则表示不含有该字符串
            if (emailErrorSpan.style.color === "red") {
                //清空非法value值
                emailElt.value = "";
            }
            //不管地址验证是否成功，在获取焦点后都要讲span中内容删除
            emailErrorSpan.innerText = "请输入邮箱正确格式";
            emailErrorSpan.style.color = "#D3D3D3"
            retValArray.retVal6 = true
        }


        // 提交表单
        //获取表单队形
        const submitElt = document.getElementById("btn");
        //点击事件发生，进行表单信息提交验证
        submitElt.onclick = function () {
            if (usernameErrorSpan.innerText === "长度大于6小于12") {
                usernameElt.focus();
                usernameElt.blur();
            }
            if (passwordErrorSpan.innerText === "长度大于6，且必须要含有数字、标点和字母") {
                passwordElt.focus();
                passwordElt.blur();
            }
            if (realnameErrorSpan.innerText === "请输入中文或字母,且长度大于1位") {
                realnameElt.focus();
                realnameElt.blur();
            }
            if (phoneErrorSpan.innerText === "请输入正确的电话格式") {
                phoneElt.focus();
                phoneElt.blur();
            }
            if (emailElt.innerText === "请输入邮箱正确格式") {
                emailElt.focus();
                emailElt.blur();
            }
            //表单提交
            const userFromElt = document.getElementById("register");
            if (retValArray.retVal1 && retValArray.retVal2 && retValArray.retVal3 && retValArray.retVal4 && retValArray.retVal5 && retValArray.retVal6) {
                userFromElt.action = "/api/share/doRegister";
                //提交表单
                userFromElt.submit();
            } else {
                window.location.href = "/page/share/register";
                alert("请输入所有正确注册项");
            }
        }

    }
</script>

</body>
</html>